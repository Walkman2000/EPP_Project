{% extends 'base_admin.html' %}
{% load static %}
{% block styles %}
<style>
    .contForm {
        padding: 20px;
        margin: 0 auto;
        width: 800px;
    }

    .contForm .flex-box {
        display: flex;
        align-items: center;
        gap: 20px
    }

    .caja-input {
        width: 400px;
    }

    form .caja-input select {
        border: none;
        outline: none;
        padding: 8px 10px;
        width: 100%;
    }

    .flex-box .caja-input input {
        border-radius: 5px;
        background: #fff;
    }
</style>
{% endblock %}

{% block content %}

<div>
    <div class="contForm">
        <form method="POST">
            {% csrf_token  %}
           <div class="caja-input">
            <input type="date" name="fecha">
            <label>Fecha</label>
           </div>
           <div class="flex-box">
               <div class="caja-input">
                <p>Monto</p>
                <input type="number" name="monto">
               </div>
    
               <div class="caja-input">
                <p>Cantidad</p>
                <input type="number" name="cantidad">
               </div>
    
               <div class="caja-input">
                <p>Producto</p>
                <select name="sl-producto" class="form-select">         
                    <option selected disabled>--Seleccionar--</option>
                    {% for prod in productos %}
                    <option value="{{ prod.id }}">{{ prod.nombre }}</option>
                    {% endfor %}
                  </select>
               </div>
               <div class="caja-input">
                <p>Proveedor</p>
                <select name="sl-proveedores" class="form-select">    
                    <option selected disabled>--Seleccionar--</option>
                    {% for prov in proveedores %}
                    <option value="{{ prov.id }}">{{ prov.nombre }}</option>
                    {% endfor %}
                  </select>
               </div>
           </div>
           <div class="flex-box">
               <div class="caja-input">
                <p>Monto</p>
                <input type="number" name="monto">
               </div>
    
               <div class="caja-input">
                <p>Cantidad</p>
                <input type="number" name="cantidad">
               </div>
    
               <div class="caja-input">
                <p>Producto</p>
                <select name="sl-producto" class="form-select">         
                    <option selected disabled>--Seleccionar--</option>
                    {% for prod in productos %}
                    <option value="{{ prod.id }}">{{ prod.nombre }}</option>
                    {% endfor %}
                  </select>
               </div>
               <div class="caja-input">
                <p>Proveedor</p>
                <select name="sl-proveedores" class="form-select">    
                    <option selected disabled>--Seleccionar--</option>
                    {% for prov in proveedores %}
                    <option value="{{ prov.id }}">{{ prov.nombre }}</option>
                    {% endfor %}
                  </select>
               </div>
           </div>
           <input type="submit" name="agregar" value="Agregar">
        </form>
    </div>
</div>


<div class="contenedor">
    <table class="table table-striped table">  
        <tr class="text-center">
            <th>#</th>
            <th>Fecha</th>
            <th>Monto</th>
            <th>Producto</th>
            <th>Proveedor</th>
            <th>Cantidad</th>
        </tr>
        {% for compra in compras %}
        <tr class="text-center">     
            <td>{{compra.id}}</td>
            <td>{{compra.fecha|default:"No hay fecha"}}</td>
            <td>{{compra.monto}}</td>
            <td>{{compra.producto__nombre}}</td>
            <td>{{compra.proveedores__nombre}}</td>
            <td>{{compra.cantidad}}</td>
        </tr>
        {% endfor %}
    </table>
</div>


{% endblock %}